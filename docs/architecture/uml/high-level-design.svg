<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="883px" preserveAspectRatio="none" style="width:980px;height:883px;background:#FFFFFF;" version="1.1" viewBox="0 0 980 883" width="980px" zoomAndPan="magnify"><title>Rate UKMA - High-Level Architecture (v1.0)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="342.8018" x="311.5991" y="22.9951">Rate UKMA - High-Level Architecture (v1.0)</text></g><!--cluster Presentation Layer--><g class="cluster" data-entity="Presentation Layer" data-source-line="7" data-uid="ent0002" id="cluster_Presentation Layer"><rect fill="none" height="87.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="194" x="85" y="44.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="150.4385" x="106.7808" y="59.292">Presentation Layer</text></g><!--cluster EDGE--><g class="cluster" data-entity="EDGE" data-source-line="12" data-uid="ent0004" id="cluster_EDGE"><rect fill="none" height="243.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="240" x="45" y="164.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="87.8691" x="121.0654" y="179.592">Edge Layer</text></g><!--cluster BL--><g class="cluster" data-entity="BL" data-source-line="18" data-uid="ent0007" id="cluster_BL"><rect fill="none" height="306.89" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="356" x="501" y="320.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="165.1973" x="596.4014" y="335.592">Business Logic Layer</text></g><!--cluster Data Access Layer--><g class="cluster" data-entity="Data Access Layer" data-source-line="32" data-uid="ent0017" id="cluster_Data Access Layer"><rect fill="none" height="87.29" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="160" x="686" y="660.4869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="144.4434" x="693.7783" y="675.482">Data Access Layer</text></g><!--cluster Data Layer--><g class="cluster" data-entity="Data Layer" data-source-line="37" data-uid="ent0019" id="cluster_Data Layer"><rect fill="none" height="96.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="271" x="703" y="780.7769"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="85.9756" x="795.5122" y="795.772">Data Layer</text></g><!--cluster External Systems--><g class="cluster" data-entity="External Systems" data-source-line="43" data-uid="ent0022" id="cluster_External Systems"><rect fill="none" height="87.3" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="278" x="7" y="440.8869"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="137.4229" x="77.2886" y="455.882">External Systems</text></g><!--entity WebApp--><g class="entity" data-entity="WebApp" data-source-line="8" data-uid="ent0003" id="entity_WebApp"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.1826" x="101.41" y="79.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.1826" x="111.41" y="102.292">Web Frontend (SPA)</text></g><!--entity REST--><g class="entity" data-entity="REST" data-source-line="13" data-uid="ent0005" id="entity_REST"><ellipse cx="182" cy="228.5969" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.168" x="102.416" y="258.592">REST API (OpenAPI v3)</text></g><!--entity Auth--><g class="entity" data-entity="Auth" data-source-line="14" data-uid="ent0006" id="entity_Auth"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.8652" x="61.07" y="355.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.8652" x="71.07" y="378.592">Authentication Middleware</text></g><!--entity CourseSvc--><g class="entity" data-entity="CourseSvc" data-source-line="19" data-uid="ent0008" id="entity_CourseSvc"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0684" x="660.47" y="575.1869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0684" x="670.47" y="598.182">Course Service</text></g><!--entity RatingSvc--><g class="entity" data-entity="RatingSvc" data-source-line="20" data-uid="ent0009" id="entity_RatingSvc"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.6367" x="517.18" y="475.8869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.6367" x="527.18" y="498.882">Rating Service</text></g><!--entity UserSvc--><g class="entity" data-entity="UserSvc" data-source-line="21" data-uid="ent0010" id="entity_UserSvc"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.1016" x="516.95" y="575.1869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.1016" x="526.95" y="598.182">User Service</text></g><!--entity RecoSvc--><g class="entity" data-entity="RecoSvc" data-source-line="22" data-uid="ent0011" id="entity_RecoSvc"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199.8398" x="517.08" y="355.5969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.8398" x="527.08" y="378.592">Recommendation Service</text></g><!--entity ScraperSvc--><g class="entity" data-entity="ScraperSvc" data-source-line="23" data-uid="ent0012" id="entity_ScraperSvc"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130.3662" x="710.82" y="475.8869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.3662" x="720.82" y="498.882">Scraper Service</text></g><!--entity ORM--><g class="entity" data-entity="ORM" data-source-line="33" data-uid="ent0018" id="entity_ORM"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.8262" x="709.59" y="695.4869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.8262" x="719.59" y="718.482">ORM</text></g><!--entity MainDB--><g class="entity" data-entity="MainDB" data-source-line="38" data-uid="ent0020" id="entity_MainDB"><path d="M718.62,825.7769 C718.62,815.7769 768.9965,815.7769 768.9965,815.7769 C768.9965,815.7769 819.3729,815.7769 819.3729,825.7769 L819.3729,851.0738 C819.3729,861.0738 768.9965,861.0738 768.9965,861.0738 C768.9965,861.0738 718.62,861.0738 718.62,851.0738 L718.62,825.7769" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M718.62,825.7769 C718.62,835.7769 768.9965,835.7769 768.9965,835.7769 C768.9965,835.7769 819.3729,835.7769 819.3729,825.7769" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="728.62" y="852.772">PostgreSQL</text></g><!--entity FileStore--><g class="entity" data-entity="FileStore" data-source-line="39" data-uid="ent0021" id="entity_FileStore"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.6719" x="854.16" y="820.2769"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.6719" x="864.16" y="843.272">File Storage</text></g><!--entity OIDC--><g class="entity" data-entity="OIDC" data-source-line="44" data-uid="ent0023" id="entity_OIDC"><rect fill="#F1F1F1" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="245.1689" x="23.42" y="475.8869"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.1689" x="33.42" y="498.882">Microsoft OIDC Identity Provider</text></g><!--link RatingSvc to CourseSvc--><g class="link" data-entity-1="RatingSvc" data-entity-2="CourseSvc" data-source-line="25" data-uid="lnk13" id="link_RatingSvc_CourseSvc"><path d="M604.26,512.6569 C630.54,530.2869 665.748,553.9133 691.958,571.5033" fill="none" id="RatingSvc-to-CourseSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="696.94,574.8469,691.696,566.5102,692.7883,572.0606,687.2379,573.1529,696.94,574.8469" style="stroke:#181818;stroke-width:1;"/></g><!--link RatingSvc to UserSvc--><g class="link" data-entity-1="RatingSvc" data-entity-2="UserSvc" data-source-line="26" data-uid="lnk14" id="link_RatingSvc_UserSvc"><path d="M576.75,512.4369 C575.48,530.0369 573.9735,551.1126 572.6935,568.7826" fill="none" id="RatingSvc-to-UserSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="572.26,574.7669,576.8998,566.0794,572.6212,569.7799,568.9207,565.5014,572.26,574.7669" style="stroke:#181818;stroke-width:1;"/></g><!--link RecoSvc to RatingSvc--><g class="link" data-entity-1="RecoSvc" data-entity-2="RatingSvc" data-source-line="27" data-uid="lnk15" id="link_RecoSvc_RatingSvc"><path d="M611.25,392.1969 C603.87,414.5669 593.0375,447.4082 585.6575,469.8082" fill="none" id="RecoSvc-to-RatingSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="583.78,475.5069,590.3954,468.2105,585.3446,470.758,582.7971,465.7072,583.78,475.5069" style="stroke:#181818;stroke-width:1;"/></g><!--link RecoSvc to CourseSvc--><g class="link" data-entity-1="RecoSvc" data-entity-2="CourseSvc" data-source-line="28" data-uid="lnk16" id="link_RecoSvc_CourseSvc"><path d="M630.5,392.3669 C638.63,403.5569 648.77,418.5669 656,432.8869 C677.97,476.4269 673.23,491.6069 693,536.1869 C698.91,549.5269 703.7541,558.8099 709.9141,569.7399" fill="none" id="RecoSvc-to-CourseSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="712.86,574.9669,711.9259,565.1624,710.4051,570.611,704.9565,569.0903,712.86,574.9669" style="stroke:#181818;stroke-width:1;"/></g><!--link WebApp to REST--><g class="link" data-entity-1="WebApp" data-entity-2="REST" data-source-line="48" data-uid="lnk24" id="link_WebApp_REST"><path d="M182,115.8569 C182,144.2269 182,193.2869 182,213.7169" fill="none" id="WebApp-to-REST" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="182,219.7169,186,210.7169,182,214.7169,178,210.7169,182,219.7169" style="stroke:#181818;stroke-width:1;"/></g><!--link REST to Auth--><g class="link" data-entity-1="REST" data-entity-2="Auth" data-source-line="49" data-uid="lnk25" id="link_REST_Auth"><path d="M175.22,237.5669 C166.68,248.1669 152.49,267.8769 147,287.5969 C140.56,310.7369 146.7107,332.4559 154.0807,349.7759" fill="none" id="REST-to-Auth" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="156.43,355.2969,156.5867,345.4493,154.4723,350.6961,149.2255,348.5816,156.43,355.2969" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.4434" x="148" y="300.6638">session cookie + CSRF</text></g><!--link REST to CourseSvc--><g class="link" data-entity-1="REST" data-entity-2="CourseSvc" data-source-line="50" data-uid="lnk26" id="link_REST_CourseSvc"><path d="M190.96,229.6069 C221.9,230.1169 325.63,235.8169 386,287.5969 C478.26,366.7269 406.55,458.4669 500,536.1869 C506.3,541.4269 590.4762,561.6966 654.1862,576.5266" fill="none" id="REST-to-CourseSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="660.03,577.8869,652.1712,571.9506,655.1602,576.7533,650.3575,579.7423,660.03,577.8869" style="stroke:#181818;stroke-width:1;"/></g><!--link REST to RatingSvc--><g class="link" data-entity-1="REST" data-entity-2="RatingSvc" data-source-line="51" data-uid="lnk27" id="link_REST_RatingSvc"><path d="M190.8,231.3869 C216.45,236.8669 292.77,255.0369 348,287.5969 C395.39,315.5269 510.6283,426.7936 555.9283,471.2636" fill="none" id="REST-to-RatingSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="560.21,475.4669,556.5896,466.3076,556.6419,471.9642,550.9853,472.0165,560.21,475.4669" style="stroke:#181818;stroke-width:1;"/></g><!--link REST to UserSvc--><g class="link" data-entity-1="REST" data-entity-2="UserSvc" data-source-line="52" data-uid="lnk28" id="link_REST_UserSvc"><path d="M190.79,231.8869 C212,237.7969 266.67,255.4069 300,287.5969 C393.43,377.8069 339.49,460.5469 438,545.1869 C460.11,564.1869 484.6089,574.1749 510.6989,581.0649" fill="none" id="REST-to-UserSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="516.5,582.5969,508.8196,576.4315,511.6657,581.3202,506.777,584.1663,516.5,582.5969" style="stroke:#181818;stroke-width:1;"/></g><!--link REST to RecoSvc--><g class="link" data-entity-1="REST" data-entity-2="RecoSvc" data-source-line="53" data-uid="lnk29" id="link_REST_RecoSvc"><path d="M190.94,229.9669 C228.68,231.8269 378.2,241.8469 490,287.5969 C531.03,304.3769 567.9292,331.6939 591.8592,351.3039" fill="none" id="REST-to-RecoSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="596.5,355.1069,592.0741,346.3085,592.6327,351.9377,587.0034,352.4962,596.5,355.1069" style="stroke:#181818;stroke-width:1;"/></g><!--link Auth to OIDC--><g class="link" data-entity-1="Auth" data-entity-2="OIDC" data-source-line="54" data-uid="lnk30" id="link_Auth_OIDC"><path d="M162.2,392.1969 C158.6,414.5669 153.3595,447.1825 149.7695,469.5825" fill="none" id="Auth-to-OIDC" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="148.82,475.5069,154.1938,467.2533,149.6112,470.5699,146.2946,465.9873,148.82,475.5069" style="stroke:#181818;stroke-width:1;"/></g><!--link CourseSvc to ORM--><g class="link" data-entity-1="CourseSvc" data-entity-2="ORM" data-source-line="56" data-uid="lnk31" id="link_CourseSvc_ORM"><path d="M724.92,611.7869 C727.38,634.1569 730.955,666.7427 733.415,689.1427" fill="none" id="CourseSvc-to-ORM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="734.07,695.1069,737.0636,685.724,733.5242,690.1368,729.1114,686.5973,734.07,695.1069" style="stroke:#181818;stroke-width:1;"/></g><!--link RatingSvc to ORM--><g class="link" data-entity-1="RatingSvc" data-entity-2="ORM" data-source-line="57" data-uid="lnk32" id="link_RatingSvc_ORM"><path d="M626.95,512.5869 C647.37,519.8969 671.33,528.4669 693,536.1869 C741.86,553.5869 773.07,532.8169 803,575.1869 C831.03,614.8669 789.1103,663.9253 760.4303,691.0353" fill="none" id="RatingSvc-to-ORM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="756.07,695.1569,765.3582,691.8813,759.7036,691.7222,759.8627,686.0676,756.07,695.1569" style="stroke:#181818;stroke-width:1;"/></g><!--link UserSvc to ORM--><g class="link" data-entity-1="UserSvc" data-entity-2="ORM" data-source-line="58" data-uid="lnk33" id="link_UserSvc_ORM"><path d="M595.35,611.7869 C626.54,634.1569 675.4339,669.2106 706.6739,691.6106" fill="none" id="UserSvc-to-ORM" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="711.55,695.1069,706.5668,686.6117,707.4866,692.1933,701.905,693.1132,711.55,695.1069" style="stroke:#181818;stroke-width:1;"/></g><!--link ORM to MainDB--><g class="link" data-entity-1="ORM" data-entity-2="MainDB" data-source-line="59" data-uid="lnk34" id="link_ORM_MainDB"><path d="M740.73,732.2269 C746.61,754.1069 755.0925,785.6925 761.4925,809.5025" fill="none" id="ORM-to-MainDB" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="763.05,815.2969,764.5767,805.5671,761.7521,810.4683,756.8509,807.6437,763.05,815.2969" style="stroke:#181818;stroke-width:1;"/></g><!--link ScraperSvc to FileStore--><g class="link" data-entity-1="ScraperSvc" data-entity-2="FileStore" data-source-line="61" data-uid="lnk35" id="link_ScraperSvc_FileStore"><path d="M791.3,512.6769 C804.07,528.2069 821.91,551.9169 833,575.1869 C874.38,661.9969 895.12,770.5874 902.29,813.8974" fill="none" id="ScraperSvc-to-FileStore" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="903.27,819.8169,905.7463,810.2844,902.4534,814.884,897.8538,811.591,903.27,819.8169" style="stroke:#181818;stroke-width:1;"/></g><!--link ScraperSvc to CourseSvc--><g class="link" data-entity-1="ScraperSvc" data-entity-2="CourseSvc" data-source-line="62" data-uid="lnk36" id="link_ScraperSvc_CourseSvc"><path d="M766.52,512.4369 C756.94,530.0369 745.0589,551.8272 735.4389,569.4972" fill="none" id="ScraperSvc-to-CourseSvc" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="732.57,574.7669,740.3865,568.775,734.9608,570.3755,733.3603,564.9498,732.57,574.7669" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[bLJDZjem4BxdAKPxML05QjLR3ok5lnOL12LTzL3jmUlC1ejWHxR95bML-X1zmdsIZXrlGX3I4iHFcFbcvfjVAsoEi64MuVxhCeO1V17PTh304dE8DTyAYzmUD4Al_31ytuyYinEoO9hjWQjzeIHAczWZET44P3BByGHICBvZ6LQ04qHq-_BlxpLlM6iq589PeIHSQHI5i73Jibwm8-eR-1q1_Fo1Zp3JIbgKAVIITTn_06Q0n75HH7yw41nHBETaf0uoPVe8Ln6RflGT257SwUJpr1CJn4W_CKwGpJJv3l5w3hrLWT8zb1_x7kqqBeduOBUKdU1LVakHfZa-Cuq-5wVjbid128d6m49bWaE7CfzPDdcD5bMvn-gW3KA2kXISwDKlmbIwfEGEI9CeP7OPMEa2yDwWlW3pGATxzOSqfNlgJrMYni3v8rs09Lopuf93WWMTGnAq9W63mLsBUrlJS0XXo9cJdoRHrZI-kZHjmYmRn9pxwhkwmzljSZPmQXEMOhLP-icXtyuStWX-3QCJAjGkziYCss1bRAOn-RRm0xLaGav6ZknCq4b9hDBamBDs0lSVEt6V_gA5aoo7v6WixisLwtjc5Ggu55mhevuihEQJCSnJjvtsI4TCbI95NLMNL9qepdBrRBfLzfnuTTUg0NJ7mz-MuV3E7mdu18P6mUq7Lsed4Dx1EDdCAbHxD6jHCyUrw7Na6qnOC1_42NpgKUsjaj6mjLV7IOAli1fEGX__72OWQjRIYvlkdodgQFy1]--></g><script xmlns=""/></svg>